(this["webpackJsonpstockapp-client"]=this["webpackJsonpstockapp-client"]||[]).push([[0],{27:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(1),c=n(20),i=n.n(c),r=n(8),o=n(19),l=n(3),h=n(4),u=n(6),d=n(5),j=(n(27),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).showUsername=function(){return void 0===t.props.user.data?Object(a.jsx)("h1",{children:"Welcome To Our Stock App"}):Object(a.jsxs)("h1",{children:["Hello, ",t.props.user.data.attributes.username]})},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:this.showUsername()})}}]),n}(s.Component)),b=n(2),p=function(){return Object(a.jsxs)("div",{className:"ui secondary pointing menu",children:[Object(a.jsx)(r.c,{className:"ui item",to:"/",exact:!0,activeStyle:{background:"lightgrey"},children:"Home"}),Object(a.jsx)(r.c,{className:"ui item",to:"/stocks",exact:!0,activeStyle:{background:"lightgrey"},children:"Stocks"}),Object(a.jsx)(r.c,{className:"ui item",to:"/about",exact:!0,activeStyle:{background:"lightgrey"},children:"About StockApp"}),Object(a.jsx)(r.c,{className:"ui item",to:"/login",exact:!0,activeStyle:{background:"lightgrey"},children:"Login"}),Object(a.jsx)(r.c,{className:"ui item",to:"/signup",exact:!0,activeStyle:{background:"lightgrey"},children:"Sign up"}),Object(a.jsx)(r.c,{className:"ui item",to:"/watchlist",exact:!0,activeStyle:{background:"lightgrey"},children:"Watchlist"})]})},m=function(t){return Object(a.jsxs)("div",{className:"ui card",children:[Object(a.jsx)("div",{className:"content",children:Object(a.jsx)("div",{className:"header",children:t.stock.attributes.company})}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{className:"ui sub header",children:"Value"}),Object(a.jsx)("p",{children:t.stock.attributes.value})]}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{className:"ui sub header",children:"Industry"}),Object(a.jsx)("p",{children:t.stock.attributes.industry})]}),Object(a.jsx)("div",{className:"ui icon button",onClick:function(){return t.handleSubmit(t.stock)},children:Object(a.jsx)("i",{className:"add icon"})})]})},O=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={stock_id:"",wl_id:"",filter:"all",sort:"",stocks:t.props.stocks},t.getStockId=function(e){t.props.loggedIn?""===t.state.wl_id?alert("please select a watchlist"):fetch("https://stockappapi1234.herokuapp.com/watch_list_stocks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t.props.token)},body:JSON.stringify({watch_list_stock:{stock_id:e.id,watch_list_id:t.state.wl_id}})}).then((function(t){return t.json()})).then(console.log):alert("please log in to interact with stocks")},t.handleStockSelect=function(e){t.setState({wl_id:e.target.value})},t.handleSClick=function(e){t.setState({sort:e.target.value})},t.sortStocks=function(e){return"value"===t.state.sort?e.sort((function(e,n){return t.valueSort(e,n)})):"alphabetical"===t.state.sort?e.sort((function(e,n){return t.nameSort(e,n)})):e},t.handleFClick=function(e){console.log(e.target.value),t.setState({filter:e.target.value})},t.filterStocks=function(e){return"all"===t.state.filter?e:e.filter((function(e){return e.attributes.industry===t.state.filter}))},t}return Object(h.a)(n,[{key:"valueSort",value:function(t,e){return t.attributes.value-e.attributes.value}},{key:"nameSort",value:function(t,e){var n=t.attributes.company.toUpperCase(),a=e.attributes.company.toUpperCase();return n<a?-1:n>a?1:0}},{key:"render",value:function(){var t=this,e=this.filterStocks(this.props.stocks);return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Sort:"}),Object(a.jsxs)("div",{className:"ui buttons",children:[Object(a.jsx)("button",{className:"ui black basic button",onClick:this.handleSClick,value:"value",children:"By Value"}),Object(a.jsx)("button",{className:"ui black basic button",onClick:this.handleSClick,value:"alphabetical",children:"Alphabetical"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Filter by Industry:"}),Object(a.jsxs)("select",{name:"filter",multiple:"",className:"ui fluid dropdown",onChange:this.handleFClick,children:[Object(a.jsx)("option",{value:"all",onClick:this.handleFClick,children:"All"}),this.props.industries.map((function(t,e){return Object(a.jsx)("option",{value:t,children:t},e)}))]}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Select Watchlist:"}),Object(a.jsx)("select",{onChange:this.handleStockSelect,children:this.props.watchlists.map((function(t){return Object(a.jsx)("option",{value:t.id,children:t.attributes.title})}))}),Object(a.jsx)("h1",{children:"All Stocks"}),Object(a.jsx)("div",{className:"ui cards",children:this.sortStocks(e).map((function(e,n){return Object(a.jsx)(m,{stock:e,handleSubmit:t.getStockId},n)}))})]})}}]),n}(s.Component),f=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"ui container",children:[Object(a.jsxs)("div",{className:"ui two column very relaxed grid",children:[Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("h1",{children:"Stock App"}),Object(a.jsx)("p",{children:"Is a basic web app made to monitor stocks and create watchlists for those stocks. A watchlist is a group of stocks with a specified notification condition."}),Object(a.jsx)("p",{children:"Is a basic web application designed to monitor and further track groups of stocks put together by users. The application can be used to create watchlists of stocks, providing a user with an easy to use tracking expireience like many others. Each watchlist can be cusomized with your favorite or most hated stocks so users can receive tailored notifications for a watchlist."})]}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("p",{children:"StockApp, Inc. is an American financial services company headquartered in The Cloud. The company offers a website that allows people the ability to track stocks and ETFs through StockApp Financial. The company has no storefront branches and operates entirely online without fees."}),Object(a.jsx)("p",{children:"StockApp is a JBJR regulated stock-tracker, registered on the Internet, and is a member of the UNO Investor Tracking Corporation. The company's main source of revenue comes from... Well nowhere, but if we were to make money, it would come from interest earned on customers' cash balances, selling order information to high-frequency traders (a practice for which SEC opened a probe into the company in September 2020) and margin lending. The company has 2 users as of its most recent GITHUB push."}),Object(a.jsx)("p",{children:'StockApp was founded in November 2020 by Jackson Beytebiere and Jasper Reed, who had previously built simple, but efficient apps for class. The company\'s name comes from its mission to "not confuse consumers". Reed and Beytebiere noted that creating a watchlist cost brokerages "zero dollars".'})]})]}),Object(a.jsx)("div",{className:"ui vertical divider",children:"and"})]})}}]),n}(s.Component),x=n(13),k=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={username:"",password:""},t.handleChange=function(e){t.setState(Object(x.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.handleSubmit(t.state)},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("hi from login")}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"ui container",children:[Object(a.jsxs)("form",{className:"ui big form",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"two fields",children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})]})]}),Object(a.jsx)("input",{className:"ui black basic button",type:"submit",value:"Log In"})]}),this.props.error?Object(a.jsx)("p",{style:{color:"red"},children:"Invalid username or password"}):null]})}}]),n}(s.Component),g=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={username:"",password:""},t.handleChange=function(e){t.setState(Object(x.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.handleSubmit(t.state)},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"ui container",children:Object(a.jsxs)("form",{className:"ui big form",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"two fields",children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})]})]}),Object(a.jsx)("input",{className:"ui black basic button",type:"submit",value:"Sign Up"})]})})}}]),n}(s.Component),v=function(t){var e=t.stock,n=t.handleClick,s=t.watchliststocks;return Object(a.jsxs)("div",{className:"ui card",children:[Object(a.jsx)("div",{className:"content",children:Object(a.jsx)("div",{className:"header",children:e.company})}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{className:"ui sub header",children:"Value"}),Object(a.jsx)("p",{children:e.value})]}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h4",{className:"ui sub header",children:"Industry"}),Object(a.jsx)("p",{children:e.industry})]}),Object(a.jsx)("div",{className:"ui icon button",onClick:function(){var t=s.filter((function(t){return t.id===e.id}));n(t)},children:Object(a.jsx)("i",{className:"minus icon"})})]})},y=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={stocks:t.props.watchlist.stocks},t.handleClick=function(e){var n=t.state.stocks.filter((function(t){return t.id!==e.id}));t.setState({stocks:n});var a=t.props.watchlist.watch_list_stocks.filter((function(t){return t.stock_id===e.id}));t.props.handleClick(a[0])},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("h3",{children:this.props.watchlist.title}),Object(a.jsx)("div",{className:"ui cards",children:this.state.stocks.map((function(e){return Object(a.jsx)(v,{stock:e,handleClick:function(){return t.handleClick(e)},watchliststocks:t.state.stocks},e.id)}))})]})}}]),n}(s.Component),S=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).handleClick=function(e){fetch("https://stockappapi1234.herokuapp.com/watch_list_stocks/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t.props.token)}}).then((function(t){return t.json()})).then(console.log)},t.showUsername=function(){return t.props.loggedIn?Object(a.jsxs)("div",{children:[t.props.watchlists.map((function(e){return Object(a.jsx)(y,{watchlist:e.attributes,handleClick:t.handleClick},e.id)})),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"ui black basic button",children:Object(a.jsx)(r.b,{to:"/CreateWLForm",children:"create new Watchlist"})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Looks Like You Aren't Signed In"}),Object(a.jsx)("h3",{children:"Sign In To View / Create A Watchlist"})]})},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:this.showUsername()}),Object(a.jsx)("br",{})]})}}]),n}(s.Component),w=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={title:"",showMenu:!1},t.handleMenu=function(){t.setState({showMenu:!t.state.showMenu})},t.handleChange=function(e){t.setState({title:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.handleSubmit(t.state.title)},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Create A Watchlist"}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{children:["Watchlist Title",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"title",value:this.state.title,onChange:this.handleChange})]}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"submit",value:"submit"})]})]})}}]),n}(s.Component),C=function(){return Object(a.jsxs)("div",{className:"ui secondary pointing menu",children:[Object(a.jsx)(r.c,{className:"ui item",to:"/",exact:!0,activeStyle:{background:"lightgrey"},children:"Home"}),Object(a.jsx)(r.c,{className:"ui item",to:"/stocks",exact:!0,activeStyle:{background:"lightgrey"},children:"Stocks"}),Object(a.jsx)(r.c,{className:"ui item",to:"/about",exact:!0,activeStyle:{background:"lightgrey"},children:"About StockApp"}),Object(a.jsx)(r.c,{className:"ui item",to:"/usershow",exact:!0,activeStyle:{background:"lightgrey"},children:"Account"}),Object(a.jsx)(r.c,{className:"ui item",to:"/watchlist",exact:!0,activeStyle:{background:"lightgrey"},children:"Watchlist"})]})},N=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).handleClick=function(){t.setState({edit:!0})},t.state={edit:!1,name:t.props.user.data.attributes.name,bio:t.props.user.data.attributes.bio,image:t.props.user.data.attributes.image},t.handleChange=function(e){t.setState(Object(x.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),fetch("https://stockappapi1234.herokuapp.com/api/v1/users/".concat(t.props.user.data.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.props.token)},body:JSON.stringify({user:{name:t.state.name,bio:t.state.bio,image:t.state.image}})}).then((function(t){return t.json()})).then((function(e){t.setState({edit:!1})}))},t}return Object(h.a)(n,[{key:"render",value:function(){if(void 0!==this.props.user.data){var t=this.props.user.data.attributes,e=t.username,n=t.bio,s=t.image,c=t.name;return Object(a.jsxs)("div",{className:"ui container",children:[Object(a.jsxs)("h1",{children:["Hi ",e]}),Object(a.jsx)("img",{className:"prof",src:this.state.image,alt:"userimg"}),Object(a.jsxs)("p",{children:["aka ",this.state.name]}),Object(a.jsxs)("p",{children:[" bio: ",this.state.bio]}),Object(a.jsx)("button",{className:"ui black basic button",onClick:this.props.handleLogout,children:"Logout"}),this.state.edit?Object(a.jsxs)("form",{className:"ui big form",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"three fields",children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"name"}),Object(a.jsx)("input",{name:"name",value:this.state.name,placeholder:c,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"bio"}),Object(a.jsx)("input",{name:"bio",value:this.state.bio,placeholder:n,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{children:"Profile pic"}),Object(a.jsx)("input",{name:"image",value:this.state.image,placeholder:s,onChange:this.handleChange})]})]}),Object(a.jsx)("input",{type:"submit",value:"submit"})]}):Object(a.jsx)("button",{className:"ui black basic button",onClick:this.handleClick,children:"Edit account"})]})}return Object(a.jsx)("h1",{children:"user not found"})}}]),n}(s.Component),A=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={user:"",token:"",watchlists:[],stocks:[],industries:[],loggedIn:!1,error:!1},t.handleHome=function(){return Object(a.jsx)(j,{user:t.state.user})},t.renderLogin=function(){return Object(a.jsx)(k,{name:"Login Form",handleSubmit:t.handleLogin,error:t.state.error})},t.renderSignUp=function(){return Object(a.jsx)(g,{name:"SignUp Form",handleSubmit:t.handleSignUp})},t.handleWatchList=function(){return Object(a.jsx)(S,{loggedIn:t.state.loggedIn,watchlists:t.state.watchlists,token:t.state.token})},t.renderAccount=function(){return Object(a.jsx)(N,{user:t.state.user,token:t.state.token,handleLogout:t.handleLogout})},t.handleCreateWLForm=function(){return Object(a.jsx)(w,{token:t.state.token,user:t.state.user,handleSubmit:t.handleWatchListCreate})},t.handleStockContainer=function(){return Object(a.jsx)(O,{stocks:t.state.stocks,loggedIn:t.state.loggedIn,token:t.state.token,watchlists:t.state.watchlists,industries:t.state.industries.filter(t.onlyUnique),handleAddStock:t.handleAddStock})},t.handleAuthFetch=function(e,n){fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:e.username,password:e.password}})}).then((function(t){return t.json()})).then((function(e){"Invalid username or password"===e.message?t.setState({error:!0},(function(){t.props.history.push("/login")})):t.setState({user:e.user,token:e.token,error:!1,loggedIn:!0},(function(){t.handleWatchlistFetch(),t.props.history.push("/")}))}))},t.handleWatchlistFetch=function(){fetch("https://stockappapi1234.herokuapp.com/watch_lists",{method:"GET",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t.state.token)}}).then((function(t){return t.json()})).then((function(e){t.setState({watchlists:e.data})}))},t.handleLogin=function(e){t.handleAuthFetch(e,"https://stockappapi1234.herokuapp.com/api/v1/login")},t.handleSignUp=function(e){t.handleAuthFetch(e,"https://stockappapi1234.herokuapp.com/api/v1/users")},t.handleLogout=function(){t.setState((function(){t.props.history.push("/")})),t.setState({user:"",token:""})},t.handleWatchListCreate=function(e){fetch("https://stockappapi1234.herokuapp.com/watch_lists",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorizaton:"Bearer ".concat(t.props.token)},body:JSON.stringify({watch_list:{title:e,user_id:t.state.user.data.id}})}).then((function(t){return t.json()})).then((function(e){var n=[].concat(Object(o.a)(t.state.watchlists),[e.data]);t.setState({watchlists:n},(function(){t.props.history.push("/watchlist")}))}))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("https://stockappapi1234.herokuapp.com/stocks").then((function(t){return t.json()})).then((function(e){t.setState({stocks:e.data}),t.getIndustries()}))}},{key:"onlyUnique",value:function(t,e,n){return n.indexOf(t)===e}},{key:"getIndustries",value:function(){var t=this;this.state.stocks.map((function(e){t.setState({industries:[].concat(Object(o.a)(t.state.industries),[e.attributes.industry])})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[""!==this.state.user?Object(a.jsx)(C,{}):Object(a.jsx)(p,{}),Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{exact:!0,path:"/",component:this.handleHome}),Object(a.jsx)(b.a,{exact:!0,path:"/stocks",component:this.handleStockContainer}),Object(a.jsx)(b.a,{exact:!0,path:"/watchlist",component:this.handleWatchList}),Object(a.jsx)(b.a,{exact:!0,path:"/login",component:this.renderLogin}),Object(a.jsx)(b.a,{exact:!0,path:"/signup",component:this.renderSignUp}),Object(a.jsx)(b.a,{exact:!0,path:"/about",component:f}),Object(a.jsx)(b.a,{exact:!0,path:"/CreateWLForm",component:this.handleCreateWLForm}),Object(a.jsx)(b.a,{exact:!0,path:"/usershow",component:this.renderAccount})]})]})}}]),n}(s.Component),I=Object(b.f)(A);n(36);i.a.render(Object(a.jsx)(r.a,{children:Object(a.jsx)(I,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.cfb9437d.chunk.js.map